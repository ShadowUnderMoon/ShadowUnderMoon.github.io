<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Spark - Category - 爱吃芒果</title>
        <link>http://localhost:1313/categories/spark/</link>
        <description>Spark - Category - 爱吃芒果</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sat, 05 Apr 2025 22:05:09 &#43;0800</lastBuildDate><atom:link href="http://localhost:1313/categories/spark/" rel="self" type="application/rss+xml" /><item>
    <title>Spark_optimizer</title>
    <link>http://localhost:1313/posts/spark_optimizer/</link>
    <pubDate>Sat, 05 Apr 2025 22:05:09 &#43;0800</pubDate>
    <author>爱吃芒果</author>
    <guid>http://localhost:1313/posts/spark_optimizer/</guid>
    <description><![CDATA[<h2 id="遇到的问题">遇到的问题</h2>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-java">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">Exception</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="s">&#34;main&#34;</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">NoClassDefFoundError</span><span class="p">:</span><span class="w"> </span><span class="n">org</span><span class="o">/</span><span class="n">apache</span><span class="o">/</span><span class="n">logging</span><span class="o">/</span><span class="n">log4j</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">Filter</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">base</span><span class="o">/</span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">Class</span><span class="p">.</span><span class="na">forName0</span><span class="p">(</span><span class="n">Native</span><span class="w"> </span><span class="n">Method</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">base</span><span class="o">/</span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">Class</span><span class="p">.</span><span class="na">forName</span><span class="p">(</span><span class="n">Class</span><span class="p">.</span><span class="na">java</span><span class="p">:</span><span class="n">578</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">base</span><span class="o">/</span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">Class</span><span class="p">.</span><span class="na">forName</span><span class="p">(</span><span class="n">Class</span><span class="p">.</span><span class="na">java</span><span class="p">:</span><span class="n">557</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">SparkClassUtils</span><span class="p">.</span><span class="na">classForName</span><span class="p">(</span><span class="n">SparkClassUtils</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">41</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">SparkClassUtils</span><span class="p">.</span><span class="na">classForName$</span><span class="p">(</span><span class="n">SparkClassUtils</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">36</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">SparkClassUtils$</span><span class="p">.</span><span class="na">classForName</span><span class="p">(</span><span class="n">SparkClassUtils</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">141</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">SparkSession$</span><span class="p">.</span><span class="na">lookupCompanion</span><span class="p">(</span><span class="n">SparkSession</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">826</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">SparkSession$</span><span class="p">.</span><span class="na">CLASSIC_COMPANION$lzycompute</span><span class="p">(</span><span class="n">SparkSession</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">816</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">SparkSession$</span><span class="p">.</span><span class="na">org$apache$spark$sql$SparkSession$$CLASSIC_COMPANION</span><span class="p">(</span><span class="n">SparkSession</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">815</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">SparkSession$</span><span class="p">.</span><span class="na">$anonfun$DEFAULT_COMPANION$1</span><span class="p">(</span><span class="n">SparkSession</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">820</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">scala</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">Try$</span><span class="p">.</span><span class="na">apply</span><span class="p">(</span><span class="n">Try</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">217</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">SparkSession$</span><span class="p">.</span><span class="na">org$apache$spark$sql$SparkSession$$DEFAULT_COMPANION</span><span class="p">(</span><span class="n">SparkSession</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">820</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">SparkSession$Builder</span><span class="p">.</span><span class="o">&lt;</span><span class="n">init</span><span class="o">&gt;</span><span class="p">(</span><span class="n">SparkSession</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">854</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">sql</span><span class="p">.</span><span class="na">SparkSession$</span><span class="p">.</span><span class="na">builder</span><span class="p">(</span><span class="n">SparkSession</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">833</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">examples</span><span class="p">.</span><span class="na">SparkPi$</span><span class="p">.</span><span class="na">main</span><span class="p">(</span><span class="n">SparkPi</span><span class="p">.</span><span class="na">scala</span><span class="p">:</span><span class="n">28</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">spark</span><span class="p">.</span><span class="na">examples</span><span class="p">.</span><span class="na">SparkPi</span><span class="p">.</span><span class="na">main</span><span class="p">(</span><span class="n">SparkPi</span><span class="p">.</span><span class="na">scala</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">Caused</span><span class="w"> </span><span class="n">by</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">ClassNotFoundException</span><span class="p">:</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="na">apache</span><span class="p">.</span><span class="na">logging</span><span class="p">.</span><span class="na">log4j</span><span class="p">.</span><span class="na">core</span><span class="p">.</span><span class="na">Filter</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">base</span><span class="o">/</span><span class="n">jdk</span><span class="p">.</span><span class="na">internal</span><span class="p">.</span><span class="na">loader</span><span class="p">.</span><span class="na">BuiltinClassLoader</span><span class="p">.</span><span class="na">loadClass</span><span class="p">(</span><span class="n">BuiltinClassLoader</span><span class="p">.</span><span class="na">java</span><span class="p">:</span><span class="n">641</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">base</span><span class="o">/</span><span class="n">jdk</span><span class="p">.</span><span class="na">internal</span><span class="p">.</span><span class="na">loader</span><span class="p">.</span><span class="na">ClassLoaders$AppClassLoader</span><span class="p">.</span><span class="na">loadClass</span><span class="p">(</span><span class="n">ClassLoaders</span><span class="p">.</span><span class="na">java</span><span class="p">:</span><span class="n">188</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">at</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">base</span><span class="o">/</span><span class="n">java</span><span class="p">.</span><span class="na">lang</span><span class="p">.</span><span class="na">ClassLoader</span><span class="p">.</span><span class="na">loadClass</span><span class="p">(</span><span class="n">ClassLoader</span><span class="p">.</span><span class="na">java</span><span class="p">:</span><span class="n">528</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">...</span><span class="w"> </span><span class="n">16</span><span class="w"> </span><span class="n">more</span></span></span></code></pre></div></div>
<p>在idea <code>Run/Debug Configuration</code>中添加<code>Add dependencies with provided scope to classpath</code></p>]]></description>
</item>
<item>
    <title>Spark内存管理</title>
    <link>http://localhost:1313/posts/spark_memory_manager/</link>
    <pubDate>Sun, 09 Mar 2025 22:32:09 &#43;0800</pubDate>
    <author>爱吃芒果</author>
    <guid>http://localhost:1313/posts/spark_memory_manager/</guid>
    <description><![CDATA[<h2 id="关键问题">关键问题</h2>
<ol>
<li>
<p>内存被分成哪些区域，各分区之间的关系是什么，通过什么参数控制</p>
</li>
<li>
<p>内存上报和释放的单位是什么，上报和释放是如何实现的</p>
</li>
<li>
<p>如何避免内存没有释放导致资源泄露</p>
</li>
<li>
<p>如何避免重复上报和漏上报问题</p>]]></description>
</item>
</channel>
</rss>
